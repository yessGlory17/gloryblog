<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <title>Anasayfa</title>
    <link rel="stylesheet" href="./css/reset.css">
    <link id="color-mode-link" rel="stylesheet" href="./css/light.css">
    <link href="https://cdn.lineicons.com/2.0/LineIcons.css" rel="stylesheet">
    <script src="https://kit.fontawesome.com/1389171202.js" crossorigin="anonymous"></script>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300&display=swap" rel="stylesheet">
    <script src="./jQuery/jquery-3.5.1.min.js"></script>
    <script
  src="https://code.jquery.com/jquery-3.5.1.js"
  integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc="
  crossorigin="anonymous"></script>
</head>
<body>
    <div class="header">
        <img src="./images/logo.png" alt="" class="logo">

        <div class="checkbox-container">
          <input type="checkbox" class="checkbox" id="darkmode-checkbox" />
          <label class="label" for="darkmode-checkbox">
              <i class="fas fa-moon"></i>
              <i class="fas fa-sun"></i>
              <div class="ball"></div>
          </label>
        </div>
    </div>

    <div class="mobile-navigation">
      <div class="mobile-navigation-home">
        <i class="lni lni-home lni-32"></i>
      </div>
      <div class="mobile-navigation-add">
        <a href="editor.html" class="editor-link">
          <i class="lni lni-plus lni-32"></i>
        </a>
      </div>
      <div class="mobile-navigation-login">
        <a href="signin.html" class="sign-in-link">
          <i class="lni lni-user lni-32"></i>
        </a>
      </div>
    </div>


    <div class="onerilenler">
      <p class="onerilenler-baslik"> Önerilen Yazılar </h2>
        <div class="onerilen-liste">

          <div class="onerilen-post" >
            <img src="https://images.unsplash.com/photo-1606055292780-79987ee44af7?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=634&q=80" alt="" class="onerilen-post-resim">
            
              <p class="onerilen-post-baslik">Sizin İçin Önerilen Yazıss sssss ssssssssss ssssssssssssssssssssssssssssssss</p>
              <!-- <p class="onerilen-post-icerik">Lorem ipsum dolor, sit amet consectetur adipisicing elit. Veritatis dolor unde rerum magnam deserunt in dolore harum. Molestiae dolore nisi ipsa totam, eaque quis, ex laboriosam tempore et consequatur perferendis.</p> -->
          </div>
          
          
          <div class="onerilen-post" >
            <img src="https://images.unsplash.com/photo-1605947464626-cbb0f72ee82d?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1051&q=80" alt="" class="onerilen-post-resim">
            <p class="onerilen-post-baslik">Hayatınızı Kolaylaştıracak 11 Madde</p>
          </div>
          
          
          <div class="onerilen-post" >
            <img src="https://images.unsplash.com/photo-1605915532179-0fd65403813e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=634&q=80" alt="" class="onerilen-post-resim">
            <p class="onerilen-post-baslik">Hızlı Kilo Vermek İçin Tavsiyeler</p>
          </div>

          <div class="onerilen-post" >
            <img src="https://images.unsplash.com/photo-1606034110279-48c16c742053?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1050&q=80" alt="" class="onerilen-post-resim">
            <p class="onerilen-post-baslik">Sizin İçin Önerilen Yazı</p>
          </div>

          <div class="onerilen-post" >
            <img src="https://images.unsplash.com/photo-1606059100110-4230429584fe?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=634&q=80" alt="" class="onerilen-post-resim">
            <p class="onerilen-post-baslik">Sizin İçin Önerilen Yazı</p>
          </div>

          <div class="onerilen-post" >
            <img src="https://images.unsplash.com/photo-1605977562429-7df37ae586b0?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=967&q=80" alt="" class="onerilen-post-resim">
            <p class="onerilen-post-baslik">Sizin İçin Önerilen Yazı</p>
          </div>


          <div class="onerilen-post" >
            <img src="https://images.unsplash.com/photo-1605976857294-4b925007560e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=634&q=80" alt="" class="onerilen-post-resim">
            <p class="onerilen-post-baslik">Sizin İçin Önerilen Yazı</p>
          </div>



          <div class="onerilen-post" >
            <img src="https://images.unsplash.com/photo-1605915532179-0fd65403813e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=634&q=80" alt="" class="onerilen-post-resim">
            <p class="onerilen-post-baslik">Sizin İçin Önerilen Yazı</p>
          </div>
          
        </div>
    </div>
      
    
    <div class="kategoriler" >

    </div>

    <div class="main" >
      
      <!--Yazı 1-->

      <!-- <div class="yazilar">

        <div class="yazi-ana-container">
          <div class="yazi-alani">
            <div class="yazar-adi">
              <div class="yazar-resim-container">
                <img src="https://images.unsplash.com/photo-1606128731408-70e0e715b858?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=925&q=80" alt="" class="yazar-resim">
              </div>
              <p class="yazar-adi-text"> Özgür Kurucan</p>
            </div>
            <div class="icerik">
              <div class="icerik-baslik">
                <p class="icerik-baslik-text">Apple M1 Çipli Apple Macbook Air Şaşırtıcı Bir Buluş</p>
              </div>
              <div class="icerik-ana">
                <p class="icerik-ana-text">
                  Apple Silicon mükkemmel pil ömrü ve tavizsiz güç ile piyasaya çıkıyor.
                </p>
              </div>
            </div>
  
            <div class="yazi-bilgi">
              <p class="yazi-bilgi-tarih">24 Kasım</p>
              <div class="yazi-bilgi-nokta"></div>
              <p class="yazi-bilgi-okuma-suresi">3 dk okuma</p>
            </div>
  
          </div>
          <div class="resim-ana-container">
            <div class="resim-icerik-alani">
              <img src="https://miro.medium.com/fit/c/200/133/1*WKkk2FTBSe0jZLzjGYj6sQ.jpeg" alt="" class="resim-icerik">
            </div>
          </div>
        </div>

        
  
  
      </div>

     

      <div class="yazilar">

        <div class="yazi-ana-container">
          <div class="yazi-alani">
            <div class="yazar-adi">
              <div class="yazar-resim-container">
                <img src="https://images.unsplash.com/photo-1582533552406-234434284c17?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=755&q=80" alt="" class="yazar-resim">
              </div>
              <p class="yazar-adi-text"> Allysa Change</p>
            </div>
            <div class="icerik">
              <div class="icerik-baslik">
                <p  class="icerik-baslik-text">Bir Yağmurlu Gecede Newyork Gezisinde Yaşadıklarımı Dinleyin</p>
              </div>
              <div class="icerik-ana">
                <p class="icerik-ana-text">
                  Lorem ipsum dolor sit amet consectetur adipisicing elit. Laborum nesciunt molestiae illo ipsam vel, deleniti cumque fuga ullam eum! Atque eligendi reprehenderit cupiditate harum expedita porro nostrum voluptatum sunt repellendus.
                </p>
              </div>
            </div>
  
            <div class="yazi-bilgi">
              <p class="yazi-bilgi-tarih">24 Kasım</p>
              <div class="yazi-bilgi-nokta"></div>
              <p class="yazi-bilgi-okuma-suresi">8 dk okuma</p>
            </div>
  
          </div>
          <div class="resim-ana-container">
            <div class="resim-icerik-alani">
              <img src="https://images.unsplash.com/photo-1606015218607-b9c8750a9a8d?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=634&q=80" alt="" class="resim-icerik">
            </div>
          </div>
        </div>

        
  
  
      </div>
      
      
      
      <div class="yazilar">

        <div class="yazi-ana-container">
          <div class="yazi-alani">
            <div class="yazar-adi">
              <div class="yazar-resim-container">
                <img src="" alt="" class="yazar-resim">
              </div>
              <p class="yazar-adi-text"> Özgür Kurucan</p>
            </div>
            <div class="icerik">
              <div class="icerik-baslik">
                <p class="icerik-baslik-text">Programlama Başlangıçta Yapılması Gereken Eğitici Projeler</p>
              </div>
              <div class="icerik-ana">
                <p class="icerik-ana-text">
                  Lorem, ipsum dolor sit amet consectetur adipisicing elit. Fugiat sit, eius tempora excepturi recusandae provident facere voluptates laudantium ea commodi ipsum a temporibus quod nesciunt suscipit quaerat numquam, quia quisquam?
                </p>
              </div>
            </div>
  
            <div class="yazi-bilgi">
              <p class="yazi-bilgi-tarih">24 Kasım</p>
              <div class="yazi-bilgi-nokta"></div>
              <p class="yazi-bilgi-okuma-suresi">2 dk okuma</p>
            </div>
  
          </div>
          <div class="resim-ana-container">
            <div class="resim-icerik-alani">
              <img src="https://images.unsplash.com/photo-1542831371-29b0f74f9713?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1050&q=80" alt="" class="resim-icerik">
            </div>
          </div>
        </div>

        
  
  
      </div>

      

      <div class="yazilar">

        <div class="yazi-ana-container">
          <div class="yazi-alani">
            <div class="yazar-adi">
              <div class="yazar-resim-container">
                <img src="https://images.unsplash.com/photo-1529626455594-4ff0802cfb7e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=634&q=80" alt="" class="yazar-resim">
              </div>
              <p class="yazar-adi-text"> Olivia Greek</p>
            </div>
            <div class="icerik">
              <div class="icerik-baslik">
                <p class="icerik-baslik-text">Evde Ekmek Yapmanın 12 Püf Noktası</p>
              </div>
              <div class="icerik-ana">
                <p class="icerik-ana-text">
                  Lorem ipsum dolor sit amet consectetur adipisicing elit. Deserunt aspernatur, amet harum assumenda explicabo consectetur veritatis delectus maxime ipsa ullam cupiditate aut voluptate mollitia commodi a nesciunt accusantium enim ab?
                </p>
              </div>
            </div>
  
            <div class="yazi-bilgi">
              <p class="yazi-bilgi-tarih">24 Kasım</p>
              <div class="yazi-bilgi-nokta"></div>
              <p class="yazi-bilgi-okuma-suresi">4 dk okuma</p>
            </div>
  
          </div>
          <div class="resim-ana-container">
            <div class="resim-icerik-alani">
              <img src="https://images.unsplash.com/photo-1606101205927-c0fed0edc7fc?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=634&q=80" alt="" class="resim-icerik">
            </div>
          </div>
        </div>

        
  
  
      </div>

 -->






    </div>

    
    <script>
          $(document).ready(function(){

            CheckMode();

            YazilariGetir();

            //Önerilen yazıları kaydırma
            var b = null;
            $(".onerilen-liste div").on("mousemove",function(e){
                //alert();
                var container = $(this).parent();
                if ((e.pageX - container.offset().left) < container.width() / 2) {
                    var direction = function() {
                        container.animate( {scrollLeft: '-=300'}, 3000, 'linear', direction );
                    }
                    if ((b == false) || (b == null)) {
                        b = true;
                        container.stop( true ).animate( {scrollLeft: '-=600'}, 3000, 'linear', direction );
                    }
                } else {
                    var direction = function() {
                        container.animate( {scrollLeft: '+=300'}, 3000, 'linear', direction );
                    }
                    if ((b == true) || (b == null)) {
                        b = false;
                        container.stop( true ).animate( {scrollLeft: '+=300'}, 3000, 'linear', direction );
                    }
                }
            }).on ( 'mouseleave', function() {
                var container = $(this).parent();
                container.stop( true );
                b = null;
            });

            //Yazarın Resmi yoksa image divini gizler.
            $(".yazar-resim").each(function(index,item){
              var yazarResimSrc = $(item).attr("src");
              if(yazarResimSrc == null || yazarResimSrc ==""){
                $(item).css("display","none");
              }
            })



            //Dark mode Chechbox
            $("#darkmode-checkbox").change(function(){
                //alert();
                if($(this).is(":checked")){
                    $(this).attr("checked", true);
                    if($(this).attr("checked")){
                        //Eğer check edildiyse karanlık moda geçir!
                        $("#color-mode-link").attr("href","./css/light.css");
                        $(".logo").attr("src","./images/logo.png");
                        //Mod için cookie ayarlıyorum
                        localStorage.setItem('dark-mode','false');
                        $(".ball").css({'transform' : 'translateX(24px)'});
                        //alert(localStorage.getItem('dark-mode'));
                    }
                }else{
                    $(this).attr("checked", false);
                    if(!$(this).attr("checked")){
                        //Eğer check edildiyse karanlık moda geçir!
                        $("#color-mode-link").attr("href","./css/dark.css").fadeIn(1000);
                        $(".logo").attr("src","./images/logo-dark.png");
                        //Mode için cookie ayarlıyorum
                        
                        localStorage.setItem('dark-mode','true');
                        $(".ball").css({'transform' : 'translateX(0px)'});
                        //alert(localStorage.getItem('dark-mode'));
                        
                    }
                }
            });

            //Seçili modu kontrol ederek sayfa yenilense bile modun sabit kalmasını sağlar
            function CheckMode(){
                var mode = localStorage.getItem('dark-mode');
                if(mode == 'true'){
                    //alert("Dark mode aktif");
                    $("#color-mode-link").attr("href","./css/dark.css").fadeIn(1000);
                    $(".logo").attr("src","./images/logo-dark.png");
                    //$(".ball").css({'transform' : 'translateX(0px)'});
                    
                    //$("#darkmode-checkbox").attr("checked",false);
                }else{
                    //alert("Light mode aktif!")
                    $("#color-mode-link").attr("href","./css/light.css").fadeIn(1000);
                    $(".logo").attr("src","./images/logo.png");
                    //$(".ball").css({left:25});
                    //$(".ball").css({'transform' : 'translateX(24px)','transition' : 'transform 0.2s linear'})
                   $(".ball").css({'transform' : 'translateX(24px)'});
                }
            }



            //Yazıların gösterilmesi 
            function YazilariGetir(){


              
              $.ajax({
                type: "GET",
                url : "backend/yazilarigetir.php",
                success : function(response){
                  //console.log(JSON.parse(response));

                  var yazilar = JSON.parse(response);

                  $.each(yazilar,function(index, item){
                    console.log(item["icerik"]);

                    
                    var icerikMetin = [];
                    icerikMetin[0] = item["icerik"];
                    icerikMetin = $.map(icerikMetin,function(str, i){
                      return $("<div/>").html(str).text();
                    })

                    var icerikkarti = '<div class="yazilar">'+

                          '<div class="yazi-ana-container">' +
                            '<div class="yazi-alani">'+
                              '<div class="yazar-adi">'+
                                '<div class="yazar-resim-container">'+
                                  '<img src="https://images.unsplash.com/photo-1606128731408-70e0e715b858?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=925&q=80" alt="" class="yazar-resim">'+
                                '</div>'+
                                '<p class="yazar-adi-text"> Özgür Kurucan</p>'+
                              '</div>'+
                              '<div class="icerik">'+
                                '<div class="icerik-baslik">'+
                                ' <p class="icerik-baslik-text">' + item["baslik"] +'</p>' +
                                '</div>'+
                                '<div class="icerik-ana">' +
                                  '<p class="icerik-ana-text">' +
                                    icerikMetin +
                                  '</p>'+
                                '</div>'+
                              '</div>'+

                              '<div class="yazi-bilgi">'+
                                '<p class="yazi-bilgi-tarih"> ' + item["tarih"] + '</p>'+
                                '<div class="yazi-bilgi-nokta"></div>' +
                                '<p class="yazi-bilgi-okuma-suresi">' + OkumaSuresiHesapla(item["icerik"]) +'</p>'+
                            ' </div>'+

                            '</div>'+
                            '<div class="resim-ana-container">'+
                              '<div class="resim-icerik-alani">' +
                              ' <img src="' + item["anaresim"] + '" alt="" class="resim-icerik">' +
                              '</div>'+
                            '</div>'+
                          '</div>'+




                          '</div>';


                          
                        $(".main").append(icerikkarti);
                  })
                }
              })
            }


            //Okuma Süresini hesaplayan fonksiyon
            function OkumaSuresiHesapla(metin){
              //Burada bir metnin kelime sayısını bir dakikada okunan ortalama kelime sayısına bölüyorum. Ve ardından Math kütüphanesinin ceil fonksiyonunu kullarak yuvarlıyorum.
              var birDakikadaOkunanOrtalamaKelimeSayisi = 200;
              metinKelimeSayisi = metin.split(" ").length; //Burda boşluğa göre metni bölüp kelime sayısını buluyorum!
              var hesaplananSure = Math.ceil(metinKelimeSayisi / birDakikadaOkunanOrtalamaKelimeSayisi);
              //alert(hesaplananSure);
              return "~" + hesaplananSure + " dk";
            }


            //Eğer kullanıcı giriş yaptıysa giriş ikonu yerine çıkış ikonunu koy
            if(localStorage.getItem('auth-user') != null){
              //alert(localStorage.getItem('auth-user'));
            }
            
          });
      </script>


</body>
</html>